# 二手交易平台说明文档

## 一、系统结构设计

### 1. 整体架构
本系统采用 Java Web 技术栈，基于 MVC 设计模式构建，主要分为以下层次：

- **表现层（Controller）**：处理 HTTP 请求，调用业务逻辑层，负责页面跳转和数据传递
- **业务逻辑层（Service）**：实现核心业务逻辑，协调数据访问层完成操作
- **数据访问层（DAO）**：提供数据访问接口，与数据库交互
- **模型层（Model）**：定义实体类，封装数据
- **工具层（Util）**：提供数据库连接、密码加密等通用工具类

### 2. 核心模块
- **用户模块**：负责用户注册、登录、退出功能
- **商品模块**：负责商品发布、修改、删除、查询、搜索功能

---

## 二、数据库结构说明

### 1. 数据库连接信息
- **连接 URL**：`jdbc:mysql://10.100.164.6:3306/database?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true`
- **用户名**：`root`
- **密码**：`111728`

### 2. 主要表结构

#### 用户表（user）
| 字段名   | 类型      | 说明                     |
|----------|-----------|--------------------------|
| id       | INT       | 主键，自增               |
| username | VARCHAR   | 账号，唯一               |
| password | VARCHAR   | 加密后的密码             |
| salt     | VARCHAR   | 盐值，用于密码加密       |
| nickname | VARCHAR   | 昵称                     |

#### 商品表（goods）
| 字段名       | 类型      | 说明                                   |
|--------------|-----------|----------------------------------------|
| id           | INT       | 主键，自增                             |
| user_id      | INT       | 所属用户 ID，外键关联 user 表         |
| goods_name   | VARCHAR   | 商品名称                               |
| goods_type   | VARCHAR   | 商品类型                               |
| price        | DECIMAL   | 商品价格                               |
| description  | TEXT      | 商品描述                               |
| status       | INT       | 商品状态（1 - 在售，0 - 已售出等）   |
| create_time  | DATETIME  | 创建时间                               |

---

## 三、使用方法（远程部署版）

### 1. 环境要求
- JDK 17+
- Maven 3.6+
- MySQL 8.0+
- Tomcat 10.1+

### 2. 部署步骤
1. 克隆或下载项目源码
2. 使用 Maven 构建项目：
   ```bash
   mvn clean package
将生成的 war 包部署到 Tomcat 服务器

确保远程数据库服务正常运行，且已创建所需表结构

启动 Tomcat 服务器，访问远程地址：
http://10.100.164.6:8080/secondhand_platform-1.0-SNAPSHOT/
3. 主要功能使用:
#### 用户功能
注册：访问注册页面，填写账号、密码、昵称信息提交

登录：使用注册的账号密码登录系统

退出：点击退出按钮，销毁当前会话

#### 商品功能
发布商品：登录后进入发布页面，填写商品信息提交

修改商品：在 "我的商品" 列表中选择要修改的商品进行编辑

删除商品：在 "我的商品" 列表中删除指定商品

搜索商品：在首页输入关键词搜索在售商品

查看我的商品：登录后进入 "我的商品" 页面查看所有发布的商品

## 四、测试信息
1. 测试账号:无专门管理员账号，可使用任意注册账号测试

## 五、注意事项
1. 系统使用 SHA-256 算法对密码进行加密存储，提高安全性


2. 数据库连接信息在 DBUtil.java 中配置，实际部署时请修改为实际环境信息


3. 商品状态字段 status=1 表示在售状态，其他值表示非在售状态


4. 所有表单提交都进行了字符编码设置，支持中文输入


5. 访问远程服务器时，请确保网络能通，防火墙端口 8080 已开放